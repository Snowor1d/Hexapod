<mujoco model="hexapod">
  <compiler angle="degree" inertiafromgeom="true"/>
  <option gravity="0 0 -9.81" integrator="RK4" timestep="0.002"/>


    <asset>
        <mesh name="torso_mesh" file="3D_models/Frame.stl" scale="0.001 0.001 0.001"/>
        <!-- (기존 asset 블록 안에 추가) -->
        <mesh name="servo_rl_mesh" file="3D_models/ServoUnit_matched.stl" scale="0.001 0.001 0.001"/>
        <mesh name="adapter_rl_mesh" file="3D_models/Leg_lr_JointAdapter_matched.stl" scale="0.001 0.001 0.001"/>

        <texture name="tile_tex" type="2d" builtin="checker"
             rgb1="1 1 1" rgb2="0.2 0.2 0.2"
             width="512" height="512"/>
        <material name="tile_mat" texture="tile_tex" texrepeat="20 20" rgba="1 1 1 1"/>
    </asset>

    <worldbody> 
        <light name="sun" directional="true"
            diffuse="0.2 0.2 0.2"
            ambient="0.35 0.35 0.35"
            specular="0.25 0.25 0.25"
            pos="0 0 5" dir="0 0 -1"/>
        <camera name="cam_fixed" pos="1.6 -2.2 1.0" euler="30 0 30"/>

        <body name="terrain" pos="0 0 0">
            <geom name="ground" type="plane" size="5 5 0.1" material="tile_mat" rgba="0.3 0.4 0.3 1"/>
        </body>

        <body name="torso" pos="0 0 0.20" euler="0 0 0">
            <freejoint name="root_free"/>

            <geom name="torso_vis" type="mesh" mesh="torso_mesh"
            contype = "1" conaffinity="1"
            friction="1.0 0.005 0.0001"
            rgba="0.7 0.7 0.7 1" mass="0.1"/>

            <site name="imu_site" pos="0 0 0.05" size="0.005" rgba="0 1 0 1"/>
            <site name="hip_fl_site" pos="0.10  0.08 0.02" size="0.004" rgba="1 0 0 1"/>
            <site name="hip_fr_site" pos="0.10 -0.08 0.02" size="0.004" rgba="1 0 0 1"/>
            <site name="hip_ml_site" pos="0.00  0.09 0.02" size="0.004" rgba="1 0 0 1"/>
            <site name="hip_mr_site" pos="0.00 -0.09 0.02" size="0.004" rgba="1 0 0 1"/>
            <site name="hip_rl_site" pos="-0.10  0.08 0.02" size="0.004" rgba="1 0 0 1"/>
            <site name="hip_rr_site" pos="-0.10 -0.08 0.02" size="0.004" rgba="1 0 0 1"/>


            <body name="hip_rl" pos="-0.10 0.08 0.02">
                <!-- yaw 회전: +Z 축, 범위는 예시값 -->
                <joint name="yaw_rl" type="hinge" axis="0 0 1" range="-60 60" damping="0.1"/>

                <geom name="servo_rl_vis"   type="mesh" mesh="servo_rl_mesh"   contype="0" conaffinity="0" rgba="0.3 0.3 0.8 1"/>
                <geom name="adapter_rl_vis" type="mesh" mesh="adapter_rl_mesh" contype="0" conaffinity="0" rgba="0.8 0.8 0.8 1"/>

                <!-- 다음 링크(허벅지 등)를 붙일 기준점 -->
                <site name="rl_link_mount" pos="0.045 0 0" size="0.004" rgba="1 0.6 0 1"/>
                </body>
            </body>
    </worldbody>


</mujoco>
